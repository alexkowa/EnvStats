<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Probability That at Least One Future Observation Falls Outside a Prediction Interval for a Lognormal Distribution — predIntLnormAltTestPower • EnvStats</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Probability That at Least One Future Observation Falls Outside a Prediction Interval for a Lognormal Distribution — predIntLnormAltTestPower"><meta property="og:description" content="Compute the probability that at least one out of \(k\) future observations
  (or geometric means) falls outside a prediction interval for \(k\) future
  observations (or geometric means) for a normal distribution."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">EnvStats</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">3.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/alexkowa/EnvStats/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Probability That at Least One Future Observation Falls Outside a Prediction Interval for a Lognormal Distribution</h1>

    <div class="hidden name"><code>predIntLnormAltTestPower.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Compute the probability that at least one out of \(k\) future observations
  (or geometric means) falls outside a prediction interval for \(k\) future
  observations (or geometric means) for a normal distribution.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">predIntLnormAltTestPower</span><span class="op">(</span><span class="va">n</span>, df <span class="op">=</span> <span class="va">n</span> <span class="op">-</span> <span class="fl">1</span>, n.geomean <span class="op">=</span> <span class="fl">1</span>, k <span class="op">=</span> <span class="fl">1</span>, </span>
<span>    ratio.of.means <span class="op">=</span> <span class="fl">1</span>, cv <span class="op">=</span> <span class="fl">1</span>, pi.type <span class="op">=</span> <span class="st">"upper"</span>, conf.level <span class="op">=</span> <span class="fl">0.95</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <p></p>
<dl><dt id="arg-n">n<a class="anchor" aria-label="anchor" href="#arg-n"></a></dt>
<dd><p>vector of positive integers greater than 2 indicating the sample size upon which
  the prediction interval is based.</p></dd>

  <dt id="arg-df">df<a class="anchor" aria-label="anchor" href="#arg-df"></a></dt>
<dd><p>vector of positive integers indicating the degrees of freedom associated with
  the sample size.  The default value is <code>df=n-1</code>.</p></dd>

  <dt id="arg-n-geomean">n.geomean<a class="anchor" aria-label="anchor" href="#arg-n-geomean"></a></dt>
<dd><p>positive integer specifying the sample size associated with the future
  geometric means.  The default value is <code>n.geomean=1</code> (i.e., individual
  observations).  Note that all future geometric means must be based on the
  same sample size.</p></dd>

  <dt id="arg-k">k<a class="anchor" aria-label="anchor" href="#arg-k"></a></dt>
<dd><p>vector of positive integers specifying the number of future observations that the
  prediction interval should contain with confidence level <code>conf.level</code>.  The
  default value is <code>k=1</code>.</p></dd>

  <dt id="arg-ratio-of-means">ratio.of.means<a class="anchor" aria-label="anchor" href="#arg-ratio-of-means"></a></dt>
<dd><p>numeric vector specifying the ratio of the mean of the population that will be
  sampled to produce the future observations vs. the mean of the population that
  was sampled to construct the prediction interval.  See the DETAILS section below
  for more information.  The default value is <code>ratio.of.means=1</code>.</p></dd>

  <dt id="arg-cv">cv<a class="anchor" aria-label="anchor" href="#arg-cv"></a></dt>
<dd><p>numeric vector of positive values specifying the coefficient of variation for
  both the population that was sampled to construct the prediction interval <b>and</b>
  the population that will be sampled to produce the future observations.  The
  default value is <code>cv=1</code>.</p></dd>

  <dt id="arg-pi-type">pi.type<a class="anchor" aria-label="anchor" href="#arg-pi-type"></a></dt>
<dd><p>character string indicating what kind of prediction interval to compute.
  The possible values are <code>pi.type="upper"</code> (the default), and
  <code>pi.type="lower"</code>.</p></dd>

  <dt id="arg-conf-level">conf.level<a class="anchor" aria-label="anchor" href="#arg-conf-level"></a></dt>
<dd><p>numeric vector of values between 0 and 1 indicating the confidence level of the
  prediction interval.  The default value is <code>conf.level=0.95</code>.</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>A prediction interval for some population is an interval on the real line
  constructed so that it will contain \(k\) future observations or averages
  from that population with some specified probability \((1-\alpha)100\%\),
  where \(0 &lt; \alpha &lt; 1\) and \(k\) is some pre-specified positive integer.
  The quantity \((1-\alpha)100\%\) is call the confidence coefficient or
  confidence level associated with the prediction interval.  The function
  <code><a href="predIntNorm.html">predIntNorm</a></code> computes a standard prediction interval based on a
  sample from a normal distribution.</p>
<p>The function <code><a href="predIntNormTestPower.html">predIntNormTestPower</a></code> computes the probability that at
  least one out of \(k\) future observations or averages will <b>not</b> be contained in
  a prediction interval based on the assumption of normally distributed observations,
  where the population mean for the future observations is allowed to differ from
  the population mean for the observations used to construct the prediction interval.</p>
<p>The function <code>predIntLnormAltTestPower</code> assumes all observations are
  from a <a href="LognormalAlt.html">lognormal distribution</a>.  The observations used to
  construct the prediction interval are assumed to come from a lognormal distribution
  with mean \(\theta_2\) and coefficient of variation \(\tau\).  The future
  observations are assumed to come from a lognormal distribution with mean
  \(\theta_1\) and coefficient of variation \(\tau\); that is, the means are
  allowed to differ between the two populations, but not the coefficient of variation.</p>
<p>The function <code>predIntLnormAltTestPower</code> calls the function
  <code><a href="predIntNormTestPower.html">predIntNormTestPower</a></code>, with the argument <code>delta.over.sigma</code>
  given by:
  $$\frac{\delta}{\sigma} = \frac{log(R)}{\sqrt{log(\tau^2 + 1)}} \;\;\;\;\;\; (1)$$
  where \(R\) is given by:
  $$R = \frac{\theta_1}{\theta_2} \;\;\;\;\;\; (2)$$
  and corresponds to the argument <code>ratio.of.means</code> for the function
  <code>predIntLnormAltTestPower</code>, and \(\tau\) corresponds to the argument
  <code>cv</code>.</p>
    </div>
    <div id="value">
    <h2>Value</h2>
    <p>vector of numbers between 0 and 1 equal to the probability that at least one of
  \(k\) future observations or geometric means will fall outside the prediction
  interval.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>See the help files for <code><a href="predIntNormTestPower.html">predIntNormTestPower</a></code> and
  <code><a href="tTestLnormAltPower.html">tTestLnormAltPower</a></code>.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Steven P. Millard (<a href="mailto:EnvStats@ProbStatInfo.com">EnvStats@ProbStatInfo.com</a>)</p>
    </div>
    <div id="note">
    <h2>Note</h2>
    <p>See the help files for <code><a href="predIntNormTestPower.html">predIntNormTestPower</a></code>.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="plotPredIntLnormAltTestPowerCurve.html">plotPredIntLnormAltTestPowerCurve</a></code>,
  <code><a href="predIntLnorm.html">predIntLnormAlt</a></code>,
  <code><a href="predIntNorm.html">predIntNorm</a></code>, <code><a href="predIntNormK.html">predIntNormK</a></code>, <br><code><a href="plotPredIntNormTestPowerCurve.html">plotPredIntNormTestPowerCurve</a></code>,
  <code><a href="predIntLnormSimultaneous.html">predIntLnormAltSimultaneous</a></code>, <br><code><a href="predIntLnormAltSimultaneousTestPower.html">predIntLnormAltSimultaneousTestPower</a></code>, <a href="FcnsByCatPredInts.html">Prediction Intervals</a>,
  <a href="LognormalAlt.html">LognormalAlt</a>.</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span>  <span class="co"># Show how the power increases as ratio.of.means increases.  Assume a </span></span></span>
<span class="r-in"><span>  <span class="co"># 95% upper prediction interval.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="fu">predIntLnormAltTestPower</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">4</span>, ratio.of.means <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span> </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.0500000 0.1459516 0.2367793</span>
<span class="r-in"><span>  <span class="co">#[1] 0.0500000 0.1459516 0.2367793</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co">#----------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># Look at how the power increases with sample size for an upper one-sided </span></span></span>
<span class="r-in"><span>  <span class="co"># prediction interval with k=3, ratio.of.means=4, and a confidence level of 95%.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="fu">predIntLnormAltTestPower</span><span class="op">(</span>n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">8</span><span class="op">)</span>, k <span class="op">=</span> <span class="fl">3</span>, ratio.of.means <span class="op">=</span> <span class="fl">4</span><span class="op">)</span> </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.2860952 0.4533567</span>
<span class="r-in"><span>  <span class="co">#[1] 0.2860952 0.4533567</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co">#----------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># Show how the power for an upper 95% prediction limit increases as the </span></span></span>
<span class="r-in"><span>  <span class="co"># number of future observations k increases.  Here, we'll use n=20 and </span></span></span>
<span class="r-in"><span>  <span class="co"># ratio.of.means=2.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="fu">predIntLnormAltTestPower</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">20</span>, k <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, ratio.of.means <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.1945886 0.2189538 0.2321562</span>
<span class="r-in"><span>  <span class="co">#[1] 0.1945886 0.2189538 0.2321562</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Steven P. Millard, Alexander Kowarik.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

